{
	"nodes": [
		{
			"width": 170,
			"height": 124,
			"id": "Agama-call-Node-c688f0d8-21d7-46cd-9e05-8f7ec0401036",
			"position": {
				"x": 673,
				"y": 76
			},
			"type": "call",
			"data": {
				"id": "Agama-call-Node-c688f0d8-21d7-46cd-9e05-8f7ec0401036",
				"type": "Agama-call-Node",
				"parentId": "Agama-call-Node-4fc43ccf-0635-4caa-b29f-d19bb783b4a8",
				"whenCondition": "",
				"inRepeatBlock": false,
				"position": {
					"x": 673,
					"y": 76
				},
				"agamaData": {
					"id": "Agama-call-Node-c688f0d8-21d7-46cd-9e05-8f7ec0401036",
					"parentId": "Agama-call-Node-4fc43ccf-0635-4caa-b29f-d19bb783b4a8",
					"type": "Agama-call-Node",
					"displayName": "Secret URi",
					"hasComment": true,
					"comment": "secret code uri for QR Code",
					"javaClassName": "org.gluu.agama.totp.TOTPUtil",
					"javaMethodName": "generateTotpSecretKeyUri",
					"javaVariableName": "",
					"exceptionVariableField": "E",
					"callType": "Call static method",
					"whenCondition": "",
					"inRepeatBlock": false,
					"arguments": [
						"secretKey",
						"\"gluu\"",
						"userId"
					],
					"nodeIcon": "material-symbols:code",
					"asssignedVariableName": "secretKeyUri"
				},
				"skake": false
			},
			"selected": false,
			"dragging": false,
			"positionAbsolute": {
				"x": 673,
				"y": 76
			}
		},
		{
			"width": 170,
			"height": 124,
			"id": "Agama-call-Node-4fc43ccf-0635-4caa-b29f-d19bb783b4a8",
			"position": {
				"x": 473,
				"y": 76
			},
			"type": "call",
			"data": {
				"id": "Agama-call-Node-4fc43ccf-0635-4caa-b29f-d19bb783b4a8",
				"type": "Agama-call-Node",
				"parentId": "Agama-log-Node-dc952936-0fc5-48dd-b663-a6eb20014b90",
				"whenCondition": "",
				"inRepeatBlock": false,
				"position": {
					"x": 473,
					"y": 76
				},
				"agamaData": {
					"id": "Agama-call-Node-4fc43ccf-0635-4caa-b29f-d19bb783b4a8",
					"parentId": "Agama-log-Node-dc952936-0fc5-48dd-b663-a6eb20014b90",
					"type": "Agama-call-Node",
					"displayName": "Secret Key",
					"hasComment": true,
					"comment": "Generate secret key ",
					"javaClassName": "org.gluu.agama.totp.TOTPUtil",
					"javaMethodName": "generateSecretKey",
					"javaVariableName": "",
					"exceptionVariableField": "",
					"callType": "Call static method",
					"whenCondition": "",
					"inRepeatBlock": false,
					"arguments": "\"AES\"",
					"nodeIcon": "material-symbols:code",
					"asssignedVariableName": "secretKey"
				},
				"skake": false
			},
			"selected": false,
			"dragging": false,
			"positionAbsolute": {
				"x": 473,
				"y": 76
			}
		},
		{
			"width": 170,
			"height": 124,
			"id": "Agama-log-Node-dc952936-0fc5-48dd-b663-a6eb20014b90",
			"position": {
				"x": 273,
				"y": 76
			},
			"type": "log",
			"data": {
				"id": "Agama-log-Node-dc952936-0fc5-48dd-b663-a6eb20014b90",
				"type": "Agama-log-Node",
				"parentId": "Agama-start-Flow-5e5f716c-d68a-48fe-9ab3-ce1d4292176e",
				"whenCondition": "",
				"inRepeatBlock": false,
				"position": {
					"x": 273,
					"y": 76
				},
				"agamaData": {
					"id": "Agama-log-Node-dc952936-0fc5-48dd-b663-a6eb20014b90",
					"parentId": "Agama-start-Flow-5e5f716c-d68a-48fe-9ab3-ce1d4292176e",
					"type": "Agama-log-Node",
					"displayName": "",
					"hasComment": true,
					"comment": "otp enrollment",
					"whenCondition": "",
					"inRepeatBlock": false,
					"logMessage": "\"otp enrollment for user \" userId",
					"logLevel": "info",
					"nodeIcon": "octicon:log-16"
				},
				"skake": false
			},
			"selected": false,
			"dragging": false,
			"positionAbsolute": {
				"x": 273,
				"y": 76
			}
		},
		{
			"width": 170,
			"height": 124,
			"id": "Agama-start-Flow-5e5f716c-d68a-48fe-9ab3-ce1d4292176e",
			"type": "start",
			"sourcePosition": "right",
			"data": {
				"id": "Agama-start-Flow-5e5f716c-d68a-48fe-9ab3-ce1d4292176e",
				"type": "Agama-start-Flow",
				"position": {
					"x": 73,
					"y": 76
				},
				"inRepeatBlock": false,
				"agamaData": {
					"id": "Agama-start-Flow-5e5f716c-d68a-48fe-9ab3-ce1d4292176e",
					"type": "Agama-start-Flow",
					"displayName": "gluu agama otp enroll",
					"hasComment": true,
					"comment": "",
					"isTopLevelFlow": true,
					"basepath": "",
					"configParams": "{}",
					"nodeIcon": "material-symbols:line-start-square",
					"timeout": "",
					"inputs": "userId",
					"configs": "",
					"flowname": "org.gluu.agama.otp.enroll"
				},
				"skake": false
			},
			"position": {
				"x": 73,
				"y": 76
			},
			"selected": false,
			"positionAbsolute": {
				"x": 73,
				"y": 76
			},
			"dragging": false
		},
		{
			"width": 170,
			"height": 124,
			"id": "Agama-log-Node-d7a640f7-f1cd-4c0a-9808-daff3b9fb0ea",
			"position": {
				"x": 873,
				"y": 76
			},
			"type": "log",
			"data": {
				"id": "Agama-log-Node-d7a640f7-f1cd-4c0a-9808-daff3b9fb0ea",
				"type": "Agama-log-Node",
				"parentId": "Agama-call-Node-c688f0d8-21d7-46cd-9e05-8f7ec0401036",
				"whenCondition": "",
				"inRepeatBlock": false,
				"position": {
					"x": 873,
					"y": 76
				},
				"agamaData": {
					"id": "Agama-log-Node-d7a640f7-f1cd-4c0a-9808-daff3b9fb0ea",
					"parentId": "Agama-call-Node-c688f0d8-21d7-46cd-9e05-8f7ec0401036",
					"type": "Agama-log-Node",
					"displayName": "Log secret key uri",
					"hasComment": true,
					"comment": "",
					"whenCondition": "",
					"inRepeatBlock": false,
					"logMessage": "\"secretKeyUri : \" secretKeyUri  E",
					"logLevel": "info",
					"nodeIcon": "octicon:log-16"
				}
			},
			"selected": true,
			"dragging": false,
			"positionAbsolute": {
				"x": 873,
				"y": 76
			}
		},
		{
			"width": 170,
			"height": 124,
			"id": "Agama-rrf-Node-2fb5c7e5-ecbf-4c82-8e15-822c5105d11a",
			"position": {
				"x": 1104,
				"y": 75
			},
			"type": "rrf",
			"data": {
				"id": "Agama-rrf-Node-2fb5c7e5-ecbf-4c82-8e15-822c5105d11a",
				"type": "Agama-rrf-Node",
				"parentId": "Agama-log-Node-d7a640f7-f1cd-4c0a-9808-daff3b9fb0ea",
				"whenCondition": "",
				"inRepeatBlock": "",
				"position": {
					"x": 1104,
					"y": 75
				},
				"agamaData": {
					"id": "Agama-rrf-Node-2fb5c7e5-ecbf-4c82-8e15-822c5105d11a",
					"parentId": "Agama-log-Node-d7a640f7-f1cd-4c0a-9808-daff3b9fb0ea",
					"type": "Agama-rrf-Node",
					"displayName": "load enroll page",
					"hasComment": true,
					"comment": "",
					"whenCondition": "",
					"inRepeatBlock": false,
					"assignments": [],
					"nodeIcon": "ph:globe-simple",
					"templatePath": "enroll.ftlh",
					"asssignedVariableName": "successScan",
					"arguments": "secretKeyUri",
					"position": {
						"x": 1023
					}
				},
				"skake": false
			},
			"selected": false,
			"dragging": false,
			"positionAbsolute": {
				"x": 1104,
				"y": 75
			},
			"parentId": "Agama-log-Node-d7a640f7-f1cd-4c0a-9808-daff3b9fb0ea",
			"whenCondition": "",
			"inRepeatBlock": ""
		}
	],
	"edges": [
		{
			"id": "Agama-start-Flow-5e5f716c-d68a-48fe-9ab3-ce1d4292176e-Agama-log-Node-dc952936-0fc5-48dd-b663-a6eb20014b90-04ea698c-e86e-4b5c-9dd5-93b11a4b4848",
			"type": "straight",
			"source": "Agama-start-Flow-5e5f716c-d68a-48fe-9ab3-ce1d4292176e",
			"target": "Agama-log-Node-dc952936-0fc5-48dd-b663-a6eb20014b90",
			"label": "",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"labelBgStyle": {
				"fill": "#FFCC00",
				"color": "#fff",
				"fillOpacity": 0.7
			}
		},
		{
			"id": "Agama-log-Node-dc952936-0fc5-48dd-b663-a6eb20014b90-Agama-call-Node-4fc43ccf-0635-4caa-b29f-d19bb783b4a8-1aef5df3-5a09-407e-9d97-192a885e01d2",
			"type": "straight",
			"source": "Agama-log-Node-dc952936-0fc5-48dd-b663-a6eb20014b90",
			"target": "Agama-call-Node-4fc43ccf-0635-4caa-b29f-d19bb783b4a8",
			"label": "",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"labelBgStyle": {
				"fill": "#FFCC00",
				"color": "#fff",
				"fillOpacity": 0.7
			}
		},
		{
			"id": "Agama-call-Node-4fc43ccf-0635-4caa-b29f-d19bb783b4a8-Agama-call-Node-c688f0d8-21d7-46cd-9e05-8f7ec0401036-a1c8161d-4210-4309-91de-2e5dd9db0243",
			"type": "straight",
			"source": "Agama-call-Node-4fc43ccf-0635-4caa-b29f-d19bb783b4a8",
			"target": "Agama-call-Node-c688f0d8-21d7-46cd-9e05-8f7ec0401036",
			"label": "",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"labelBgStyle": {
				"fill": "#FFCC00",
				"color": "#fff",
				"fillOpacity": 0.7
			}
		},
		{
			"id": "Agama-call-Node-c688f0d8-21d7-46cd-9e05-8f7ec0401036-Agama-log-Node-d7a640f7-f1cd-4c0a-9808-daff3b9fb0ea-9aa38763-426a-4c46-8a00-4d7c8f88553d",
			"type": "straight",
			"source": "Agama-call-Node-c688f0d8-21d7-46cd-9e05-8f7ec0401036",
			"target": "Agama-log-Node-d7a640f7-f1cd-4c0a-9808-daff3b9fb0ea",
			"label": "",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"labelBgStyle": {
				"fill": "#FFCC00",
				"color": "#fff",
				"fillOpacity": 0.7
			}
		},
		{
			"id": "Agama-log-Node-d7a640f7-f1cd-4c0a-9808-daff3b9fb0ea-Agama-rrf-Node-2fb5c7e5-ecbf-4c82-8e15-822c5105d11a-acbe155c-0662-4869-ad1d-88650fd0e5ec",
			"type": "straight",
			"source": "Agama-log-Node-d7a640f7-f1cd-4c0a-9808-daff3b9fb0ea",
			"target": "Agama-rrf-Node-2fb5c7e5-ecbf-4c82-8e15-822c5105d11a",
			"label": "",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"labelBgStyle": {
				"fill": "#FFCC00",
				"color": "#fff",
				"fillOpacity": 0.7
			}
		}
	],
	"viewport": {
		"x": 0,
		"y": 63,
		"zoom": 1
	}
}